System.register(["./index-legacy-3770e2a5.js"],(function(e,l){"use strict";var t,n,a,o,i,d,u,c,s,r,p,f,v,b,h,m,y,w,g,x,_,k,C,S,q,A,P,O,T,j,z,V,E,N,R;return{setters:[e=>{t=e._,n=e.r,a=e.o,o=e.c,i=e.a,d=e.b,u=e.w,c=e.u,s=e.I,r=e.d,p=e.e,f=e.f,v=e.g,b=e.F,h=e.h,m=e.i,y=e.j,w=e.t,g=e.k,x=e.l,_=e.m,k=e.p,C=e.n,S=e.q,q=e.s,A=e.v,P=e.x,O=e.y,T=e.z,j=e.A,z=e.B,V=e.C,E=e.D,N=e.E,R=e.G}],execute:function(){var l=document.createElement("style");l.textContent="h1[data-v-d6bcf486],h2[data-v-d6bcf486]{text-align:center}.questionContainer[data-v-d6bcf486],ion-card-content[data-v-d6bcf486]{display:flex;align-items:center;justify-content:center;flex-direction:column;width:100%}button[data-v-d6bcf486]{width:50px;height:50px;font-size:50px;border-radius:50px}.division[data-v-d6bcf486]{position:relative;width:80%;height:3px;background-color:#fff;left:50%;transform:translate(-50%);margin:20px}ion-input[data-v-d6bcf486]{background-color:#3e3e3e;margin-bottom:6px;font-size:20px}ion-card[data-v-d6bcf486]{width:80%;padding:1px;margin:5px}#id[data-v-d6bcf486]{overflow:scroll}ion-item ion-radio[data-v-d6bcf486]{font-size:17px}ion-item[data-v-d6bcf486]{width:400px}.buttons[data-v-92bd679b]{position:relative;display:flex;flex-direction:row;width:100%;padding:0!important}.buttons button[data-v-92bd679b]{margin:0}button[data-v-92bd679b]{width:90px;height:30px}.full[data-v-92bd679b]{width:100%}div[data-v-4d5f3bfe]{background:var(--background)}h1[data-v-4d5f3bfe]{text-align:center;width:100%}ion-list[data-v-e06e5a59]{margin:20px}h1[data-v-e06e5a59]{text-align:center;width:100%}.left[data-v-e06e5a59]{position:relative;width:100%}.div[data-v-e06e5a59]{display:flex;flex-direction:row;width:100%;padding-right:50px;padding-left:50px}.centercontent[data-v-e06e5a59]{display:flex;flex-direction:column;align-items:center;justify-content:center}.division[data-v-b00479e2]{position:relative;width:80%;height:3px;background-color:#fff;left:50%;transform:translate(-50%)}h1[data-v-b00479e2],h2[data-v-b00479e2]{text-align:center}\n",document.head.appendChild(l);const D=e=>(k("data-v-d6bcf486"),e=e(),C(),e),I={id:"page"},J={class:"questionContainer"},G=D((()=>i("h2",null," Create Poll ",-1))),M=["src"],B=D((()=>i("br",null,null,-1))),L=D((()=>i("br",null,null,-1))),Q=D((()=>i("h1",null,"Send with notification",-1))),U=["onClick"],X=["onClick"],F=["onClick"],H=D((()=>i("br",null,null,-1))),K=D((()=>i("br",null,null,-1))),W=D((()=>i("br",null,null,-1))),Y=D((()=>i("br",null,null,-1))),Z=D((()=>i("br",null,null,-1))),$=D((()=>i("br",null,null,-1))),ee=D((()=>i("br",null,null,-1))),le=D((()=>i("br",null,null,-1))),te=D((()=>i("div",{style:{"background-color":"white",width:"80%",height:"3px"}},null,-1))),ne=D((()=>i("br",null,null,-1))),ae=D((()=>i("br",null,null,-1))),oe={style:{display:"flex","flex-direction":"row"}},ie=["onClick"],de=["onClick"],ue=D((()=>i("br",null,null,-1))),ce=D((()=>i("br",null,null,-1))),se=D((()=>i("br",null,null,-1))),re=D((()=>i("br",null,null,-1))),pe=t({__name:"PollCreator",setup(e){const l=n(""),t=n([]);function k(){t.value.push({title:"",options:[]})}function C(){const e=document.querySelectorAll("#title")[0].value,t=document.querySelectorAll("#desc")[0].value,n=document.querySelectorAll("#button")[0].value;if(!confirm("Are you sure you want to create poll "+e+"?"))return;const a=document.querySelectorAll(".question"),o=[];a.forEach((e=>{const l=e.querySelectorAll("ion-input")[0].value,t=e.querySelectorAll("ion-radio-group")[0].value,n=e.querySelectorAll(".required")[0].checked,a=[].slice.call(e.querySelectorAll("ion-input")).splice(1),i=[];a.forEach((e=>{i.push(e.value)})),o.push({title:l,type:t,choices:i,required:n})})),console.log("Creating "+e+" with description "+t+" and button "+n),console.log(JSON.stringify(o)),fetch("http://ec2-54-193-22-54.us-west-1.compute.amazonaws.com/api/polls",{method:"POST",body:JSON.stringify({timestamp:(new Date).getTime()/1e3,title:e,desc:t,button:n,disabled:!1,polldata:JSON.stringify({poll:o}),image:l.value,key:"w0lfpAck!@#"}),headers:{"Content-Type":"application/json"}}).then((()=>{location.reload(),alert("Poll created!")}));const i=document.querySelectorAll("#allnotif")[0].checked,d=document.querySelectorAll("#gamesnotif")[0].checked,u=document.querySelectorAll("#eventsnotif")[0].checked,c=document.querySelectorAll("#schedulenotif")[0].checked;if(i||d||u||c){let l="";i&&(l="all"),d&&(l="game"),u&&(l="event"),c&&(l="schedule"),console.log("Sending notification to "+l),fetch("http://ec2-54-193-22-54.us-west-1.compute.amazonaws.com/api/notification",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({topic:l,title:"New poll!",body:"New poll '"+e+"'",key:"w0lfpAck!@#"})})}}function S(e,l,t){if(l>=0&&l<e.length)if("up"===t&&l>0){const t=e[l];e[l]=e[l-1],e[l-1]=t}else if("down"===t&&l<e.length-1){const t=e[l];e[l]=e[l+1],e[l+1]=t}}return(e,n)=>(a(),o("div",I,[i("div",J,[G,d(c(v),null,{default:u((()=>[d(c(s),null,{default:u((()=>[d(c(r),{placeholder:"Poll Title",label:"",id:"title"}),d(c(r),{placeholder:"Poll Description",label:"",id:"desc"}),d(c(r),{placeholder:"Image Link",label:"",id:"imglink",modelValue:l.value,"onUpdate:modelValue":n[0]||(n[0]=e=>l.value=e)},null,8,["modelValue"]),i("img",{src:l.value,alt:"",style:{border:"1px solid white","max-height":"165px"}},null,8,M),B,d(c(r),{placeholder:"Button Text",label:"",id:"button"}),L,Q,d(c(p),{"label-placement":"fixed",class:"check",id:"allnotif"},{default:u((()=>[f("All")])),_:1}),d(c(p),{"label-placement":"fixed",class:"check",id:"eventsnotif"},{default:u((()=>[f("Events")])),_:1}),d(c(p),{"label-placement":"fixed",class:"check",id:"gamesnotif"},{default:u((()=>[f("Games")])),_:1}),d(c(p),{"label-placement":"fixed",class:"check",id:"schedulenotif"},{default:u((()=>[f("Schedule")])),_:1})])),_:1})])),_:1}),(a(!0),o(b,null,h(t.value,(e=>(a(),m(c(v),{key:e,class:"question"},{default:u((()=>[d(c(y),null,{default:u((()=>[i("button",{onClick:l=>function(e){const l=t.value.indexOf(e);t.value.splice(l,1)}(e)}," X ",8,U)])),_:2},1024),d(c(s),{ref_for:!0,ref:"poll"},{default:u((()=>[i("div",null,[i("button",{onClick:l=>S(t.value,t.value.indexOf(e),"up")},"↑",8,X),i("button",{onClick:l=>S(t.value,t.value.indexOf(e),"down")},"↓",8,F)]),H,K,W,i("h1",null," Question "+w(t.value.indexOf(e)+1),1),Y,d(c(r),{placeholder:"Question Title",value:e.title},null,8,["value"]),d(c(p),{class:"required"},{default:u((()=>[f("Requires Response")])),_:1}),Z,$,d(c(g),{value:e.type,justify:"space-between"},{default:u((()=>[d(c(x),null,{default:u((()=>[d(c(_),{value:"text",justify:"space-between"},{default:u((()=>[f("Text")])),_:1})])),_:1}),d(c(x),null,{default:u((()=>[d(c(_),{value:"radio",justify:"space-between"},{default:u((()=>[f("Radio")])),_:1})])),_:1}),d(c(x),null,{default:u((()=>[d(c(_),{value:"checkbox",justify:"space-between"},{default:u((()=>[f("Checkbox")])),_:1})])),_:1})])),_:2},1032,["value"]),ee,le,te,ne,ae,(a(!0),o(b,null,h(e.options,(l=>(a(),o("div",{key:l},[i("span",oe,[d(c(r),{placeholder:"Option",value:l.title},null,8,["value"]),i("button",{onClick:t=>function(e,l){e.options.splice(e.options.indexOf(l),1)}(e,l),style:{width:"25",height:"25px","font-size":"20px"}}," X ",8,ie)])])))),128)),i("button",{style:{width:"20%","font-size":"20px"},onClick:l=>function(e){e.options.push({title:""})}(e)}," New Choice ",8,de)])),_:2},1536)])),_:2},1024)))),128)),i("button",{onClick:k}," + "),ue,ce,se,re,i("button",{style:{width:"20%","font-size":"30px","margin-bottom":"15px"},onClick:C}," Create Poll ")])]))}},[["__scopeId","data-v-d6bcf486"]]),fe={class:"full"},ve={style:{color:"gray"}},be={class:"buttons full"},he=t({__name:"PollView",props:["poll"],emits:["responses"],setup(e,{emit:l}){const t=e,n=l;function s(){n("responses")}function r(e,l){confirm("Are you sure you want to delete poll "+e+"?")&&function(e){fetch("http://ec2-54-193-22-54.us-west-1.compute.amazonaws.com/api/polls",{method:"DELETE",body:JSON.stringify({key:"w0lfpAck!@#",id:e}),headers:{"Content-Type":"application/json"}}).then((()=>{location.reload()}))}(l)}return(e,l)=>(a(),o("div",fe,[i("h2",null,w(t.poll.title),1),i("h6",ve,w(t.poll.desc),1),i("div",be,[d(c(x),null,{default:u((()=>[d(c(S),{onClick:s},{default:u((()=>[f("Responses")])),_:1})])),_:1}),d(c(x),null,{default:u((()=>[d(c(S),{onClick:l[0]||(l[0]=e=>{return l=t.poll,console.log(l.disabled),void fetch("http://ec2-54-193-22-54.us-west-1.compute.amazonaws.com/api/pollsdisable",{method:"POST",body:JSON.stringify({key:"w0lfpAck!@#",id:l.id,disabled:!("true"==l.disabled)}),headers:{"Content-Type":"application/json"}}).then((()=>{location.reload()}));var l})},{default:u((()=>[f(w("false"==t.poll.disabled?"Disable":"Enable"),1)])),_:1})])),_:1}),d(c(x),null,{default:u((()=>[d(c(S),{color:"danger",onClick:l[1]||(l[1]=e=>r(t.poll.title,t.poll.id))},{default:u((()=>[f("Delete")])),_:1})])),_:1})])]))}},[["__scopeId","data-v-92bd679b"]]),me=(e=>(k("data-v-4d5f3bfe"),e=e(),C(),e))((()=>i("h1",null," Responses ",-1))),ye={key:0},we=t({__name:"ResponseView",props:["pollid"],setup:e=>(l,t)=>(a(),o(b,null,[me,-1!=e.pollid?(a(),o("div",ye)):q("",!0),d(c(x),{class:"centercontent"},{default:u((()=>[d(c(S),{href:"http://ec2-54-193-22-54.us-west-1.compute.amazonaws.com/api/pollsresponsescsv?pollid="+e.pollid,download:"poll_"+e.pollid+".csv"},{default:u((()=>[f("Download CSV")])),_:1},8,["href","download"])])),_:1})],64))},[["__scopeId","data-v-4d5f3bfe"]]),ge={class:"div"},xe={key:0,style:{width:"100%"}},_e=t({__name:"PollViewer",setup(e){const l=n([]),t=n(-1);return(async()=>{l.value=await(async()=>{try{const e=(await(await fetch("http://ec2-54-193-22-54.us-west-1.compute.amazonaws.com/api/polls?max=100&offset=0&sortbytime=1",{method:"GET"})).json()).data;return console.log(e),e}catch(e){console.error(e)}return[]})(),console.log(l.value)})(),(e,n)=>(a(),o("div",ge,[d(c(A),{lines:"inset",class:"left"},{default:u((()=>[(a(!0),o(b,null,h(l.value,(e=>(a(),m(c(x),{key:e},{default:u((()=>[d(he,{onResponses:l=>t.value=e.id,poll:e},null,8,["onResponses","poll"])])),_:2},1024)))),128))])),_:1}),-1!=t.value?(a(),o("div",xe,[d(c(A),{lines:"none",class:"left centercontent"},{default:u((()=>[d(we,{pollid:t.value},null,8,["pollid"])])),_:1})])):q("",!0)]))}},[["__scopeId","data-v-e06e5a59"]]),ke=e=>(k("data-v-b00479e2"),e=e(),C(),e),Ce=ke((()=>i("div",null,[i("h1",null,"Poll Manager")],-1))),Se=ke((()=>i("div",{class:"division"},null,-1))),qe={key:0},Ae={key:1};e("default",t({__name:"PollManager",setup(e){const l=n("tab2");return(e,t)=>(a(),m(c(R),null,{default:u((()=>[d(c(z),{translucent:!0},{default:u((()=>[d(c(P),null,{default:u((()=>[d(c(O),{slot:"start"},{default:u((()=>[d(c(T),{color:"primary"})])),_:1}),d(c(j),null,{default:u((()=>[f("Poll Manager")])),_:1})])),_:1})])),_:1}),d(c(N),null,{default:u((()=>[Ce,Se,d(c(V),{modelValue:l.value,"onUpdate:modelValue":t[0]||(t[0]=e=>l.value=e),value:"tab2"},{default:u((()=>[d(c(E),{value:"tab2"},{default:u((()=>[f(" View Polls ")])),_:1}),d(c(E),{value:"tab1"},{default:u((()=>[f(" Create Poll ")])),_:1})])),_:1},8,["modelValue"]),"tab1"===l.value?(a(),o("div",qe,[d(pe)])):q("",!0),"tab2"===l.value?(a(),o("div",Ae,[d(_e)])):q("",!0)])),_:1})])),_:1}))}},[["__scopeId","data-v-b00479e2"]]))}}}));
