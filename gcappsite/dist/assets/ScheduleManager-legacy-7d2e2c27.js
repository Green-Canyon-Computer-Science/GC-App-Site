System.register(["./index-legacy-c216acec.js","./AnnouncementViewer.vue_vue_type_style_index_0_scoped_9b98820d_lang-legacy-ee67049d.js"],(function(e,t){"use strict";var l,u,n,a,d,c,o,i,r,s,f,v,_,h,g,m,y,p,b,S,w,k,C,x,D,$,T,V,j,O,A;return{setters:[e=>{l=e._,u=e.r,n=e.a,a=e.o,d=e.l,c=e.w,o=e.u,i=e.d,r=e.z,s=e.A,f=e.B,v=e.C,_=e.g,h=e.D,g=e.E,m=e.G,y=e.c,p=e.F,b=e.k,S=e.j,w=e.m,k=e.K,C=e.t,x=e.I,D=e.i,$=e.H,T=e.J,V=e.q,j=e.s,O=e.b,A=e.L},null],execute:function(){var t=document.createElement("style");t.textContent=".division[data-v-cf0ef06c]{position:relative;width:80%;height:3px;background-color:#fff;left:50%;transform:translate(-50%)}h1[data-v-cf0ef06c],h2[data-v-cf0ef06c]{text-align:center}\n",document.head.appendChild(t);const E=e=>(V("data-v-cf0ef06c"),e=e(),j(),e),J=E((()=>O("div",null,[O("h1",null,"Scheduler")],-1))),M=E((()=>O("div",{class:"division"},null,-1))),F={key:0},G=["value"],H=E((()=>O("br",null,null,-1)));e("default",l({__name:"ScheduleManager",setup(e){const t=u([]);u(0);const l=async e=>{(await A.create({message:e,duration:2e3,position:"top"})).present()};async function V(){t.value=await(async()=>{try{const e=await(await fetch("/scheduled",{method:"GET"})).json();return console.log(e),e}catch(e){console.error(e)}return[]})(),console.log(t.value)}function j(e){const t=new Date(e);return`${t.getFullYear()}-${("0"+(t.getMonth()+1)).slice(-2)}-${("0"+t.getDate()).slice(-2)}T${("0"+t.getHours()).slice(-2)}:${("0"+t.getMinutes()).slice(-2)}`}V();const O=u("tab2");return(e,u)=>{const A=n("ion-card-subtitle"),E=n("ion-button");return a(),d(o(T),null,{default:c((()=>[i(o(h),{translucent:!0},{default:c((()=>[i(o(r),null,{default:c((()=>[i(o(s),{slot:"start"},{default:c((()=>[i(o(f),{color:"primary"})])),_:1}),i(o(v),null,{default:c((()=>[_("Scheduler")])),_:1})])),_:1})])),_:1}),i(o($),null,{default:c((()=>[J,M,i(o(g),{modelValue:O.value,"onUpdate:modelValue":u[0]||(u[0]=e=>O.value=e),value:"tab2"},{default:c((()=>[i(o(m),{value:"tab2"},{default:c((()=>[_(" View Scheduled Actions ")])),_:1})])),_:1},8,["modelValue"]),"tab2"===O.value?(a(),y("div",F,[(a(!0),y(p,null,b(t.value,(t=>(a(),d(o(S),null,{default:c((()=>[i(o(w),null,{default:c((()=>[i(o(k),null,{default:c((()=>[_(C(t.body.title),1)])),_:2},1024),i(A,null,{default:c((()=>[_(C(t.url.split("/")[t.url.split("/").length-1]),1)])),_:2},1024)])),_:2},1024),i(o(x),null,{default:c((()=>[t?(a(),y("input",{key:0,type:"datetime-local",ref_for:!0,ref:t.uuid,step:"1",value:j(1*t.time)},null,8,G)):D("",!0),H,i(E,{onClick:u=>{return n=t.uuid,a=new Date(e.$refs[t.uuid][0].value).getTime(),fetch("/changeschedule",{method:"POST",body:JSON.stringify({uuid:n,time:a})}).then((()=>{l("Saved")})),void V();var n,a}},{default:c((()=>[_("Save")])),_:2},1032,["onClick"]),i(E,{onClick:e=>{return u=t.uuid,fetch("/deleteschedule",{method:"POST",body:JSON.stringify({uuid:u})}).then((()=>{l("Deleted")})),void V();var u},color:"danger"},{default:c((()=>[_("Delete")])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)))),256))])):D("",!0)])),_:1})])),_:1})}}},[["__scopeId","data-v-cf0ef06c"]]))}}}));
